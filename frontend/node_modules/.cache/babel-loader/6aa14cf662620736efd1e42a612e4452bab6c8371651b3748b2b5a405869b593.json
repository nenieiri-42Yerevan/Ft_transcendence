{"ast":null,"code":"import { Vector3, Matrix3, LineSegments, BufferGeometry, LineBasicMaterial, Float32BufferAttribute } from 'three';\nconst _v1 = new Vector3();\nconst _v2 = new Vector3();\nconst _normalMatrix = new Matrix3();\nclass VertexNormalsHelper extends LineSegments {\n  constructor(object, size, hex) {\n    const geometry = new BufferGeometry();\n    const color = hex !== undefined ? hex : 0xff0000;\n    super(geometry, new LineBasicMaterial({\n      color,\n      toneMapped: false\n    }));\n    this.object = object;\n    this.size = size !== undefined ? size : 0.1;\n    let nNormals = 0;\n    const objGeometry = this.object.geometry;\n    if (objGeometry && objGeometry.isGeometry) {\n      console.error('THREE.VertexNormalsHelper no longer supports Geometry. Use BufferGeometry instead.');\n      return;\n    } else if (objGeometry && objGeometry.isBufferGeometry) {\n      nNormals = objGeometry.attributes.normal.count;\n    } //\n\n    const positions = new Float32BufferAttribute(nNormals * 2 * 3, 3);\n    geometry.setAttribute('position', positions);\n    this.type = 'VertexNormalsHelper'; //\n\n    this.matrixAutoUpdate = false;\n    this.update();\n  }\n  update() {\n    this.object.updateMatrixWorld(true);\n    _normalMatrix.getNormalMatrix(this.object.matrixWorld);\n    const matrixWorld = this.object.matrixWorld;\n    const position = this.geometry.attributes.position; //\n\n    const objGeometry = this.object.geometry;\n    if (objGeometry && objGeometry.isGeometry) {\n      console.error('THREE.VertexNormalsHelper no longer supports Geometry. Use BufferGeometry instead.');\n      return;\n    } else if (objGeometry && objGeometry.isBufferGeometry) {\n      const objPos = objGeometry.attributes.position;\n      const objNorm = objGeometry.attributes.normal;\n      let idx = 0; // for simplicity, ignore index and drawcalls, and render every normal\n\n      for (let j = 0, jl = objPos.count; j < jl; j++) {\n        _v1.set(objPos.getX(j), objPos.getY(j), objPos.getZ(j)).applyMatrix4(matrixWorld);\n        _v2.set(objNorm.getX(j), objNorm.getY(j), objNorm.getZ(j));\n        _v2.applyMatrix3(_normalMatrix).normalize().multiplyScalar(this.size).add(_v1);\n        position.setXYZ(idx, _v1.x, _v1.y, _v1.z);\n        idx = idx + 1;\n        position.setXYZ(idx, _v2.x, _v2.y, _v2.z);\n        idx = idx + 1;\n      }\n    }\n    position.needsUpdate = true;\n  }\n}\nexport { VertexNormalsHelper };","map":{"version":3,"names":["Vector3","Matrix3","LineSegments","BufferGeometry","LineBasicMaterial","Float32BufferAttribute","_v1","_v2","_normalMatrix","VertexNormalsHelper","constructor","object","size","hex","geometry","color","undefined","toneMapped","nNormals","objGeometry","isGeometry","console","error","isBufferGeometry","attributes","normal","count","positions","setAttribute","type","matrixAutoUpdate","update","updateMatrixWorld","getNormalMatrix","matrixWorld","position","objPos","objNorm","idx","j","jl","set","getX","getY","getZ","applyMatrix4","applyMatrix3","normalize","multiplyScalar","add","setXYZ","x","y","z","needsUpdate"],"sources":["/Users/tumolabsstudent/Desktop/app/node_modules/three-stdlib/helpers/VertexNormalsHelper.js"],"sourcesContent":["import { Vector3, Matrix3, LineSegments, BufferGeometry, LineBasicMaterial, Float32BufferAttribute } from 'three';\n\nconst _v1 = new Vector3();\n\nconst _v2 = new Vector3();\n\nconst _normalMatrix = new Matrix3();\n\nclass VertexNormalsHelper extends LineSegments {\n  constructor(object, size, hex) {\n    const geometry = new BufferGeometry();\n    const color = hex !== undefined ? hex : 0xff0000;\n    super(geometry, new LineBasicMaterial({\n      color,\n      toneMapped: false\n    }));\n    this.object = object;\n    this.size = size !== undefined ? size : 0.1;\n    let nNormals = 0;\n    const objGeometry = this.object.geometry;\n\n    if (objGeometry && objGeometry.isGeometry) {\n      console.error('THREE.VertexNormalsHelper no longer supports Geometry. Use BufferGeometry instead.');\n      return;\n    } else if (objGeometry && objGeometry.isBufferGeometry) {\n      nNormals = objGeometry.attributes.normal.count;\n    } //\n\n\n    const positions = new Float32BufferAttribute(nNormals * 2 * 3, 3);\n    geometry.setAttribute('position', positions);\n    this.type = 'VertexNormalsHelper'; //\n\n    this.matrixAutoUpdate = false;\n    this.update();\n  }\n\n  update() {\n    this.object.updateMatrixWorld(true);\n\n    _normalMatrix.getNormalMatrix(this.object.matrixWorld);\n\n    const matrixWorld = this.object.matrixWorld;\n    const position = this.geometry.attributes.position; //\n\n    const objGeometry = this.object.geometry;\n\n    if (objGeometry && objGeometry.isGeometry) {\n      console.error('THREE.VertexNormalsHelper no longer supports Geometry. Use BufferGeometry instead.');\n      return;\n    } else if (objGeometry && objGeometry.isBufferGeometry) {\n      const objPos = objGeometry.attributes.position;\n      const objNorm = objGeometry.attributes.normal;\n      let idx = 0; // for simplicity, ignore index and drawcalls, and render every normal\n\n      for (let j = 0, jl = objPos.count; j < jl; j++) {\n        _v1.set(objPos.getX(j), objPos.getY(j), objPos.getZ(j)).applyMatrix4(matrixWorld);\n\n        _v2.set(objNorm.getX(j), objNorm.getY(j), objNorm.getZ(j));\n\n        _v2.applyMatrix3(_normalMatrix).normalize().multiplyScalar(this.size).add(_v1);\n\n        position.setXYZ(idx, _v1.x, _v1.y, _v1.z);\n        idx = idx + 1;\n        position.setXYZ(idx, _v2.x, _v2.y, _v2.z);\n        idx = idx + 1;\n      }\n    }\n\n    position.needsUpdate = true;\n  }\n\n}\n\nexport { VertexNormalsHelper };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}