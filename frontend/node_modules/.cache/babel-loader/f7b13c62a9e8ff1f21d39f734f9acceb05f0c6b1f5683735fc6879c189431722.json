{"ast":null,"code":"import Node from '../core/Node.js';\nimport LightNode from './LightNode.js';\nconst sortLights = lights => {\n  return lights.sort((a, b) => a.id - b.id);\n};\nclass LightsNode extends Node {\n  constructor() {\n    let lightNodes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    super('vec3');\n    this.lightNodes = lightNodes;\n    this._hash = null;\n  }\n  get hasLight() {\n    return this.lightNodes.length > 0;\n  }\n  generate(builder) {\n    const lightNodes = this.lightNodes;\n    for (const lightNode of lightNodes) {\n      lightNode.build(builder);\n    }\n    return 'vec3( 0.0 )';\n  }\n  getHash() {\n    if (this._hash === null) {\n      let hash = '';\n      const lightNodes = this.lightNodes;\n      for (const lightNode of lightNodes) {\n        hash += lightNode.light.uuid + ' ';\n      }\n      this._hash = hash;\n    }\n    return this._hash;\n  }\n  getLightNodeByHash(hash) {\n    const lightNodes = this.lightNodes;\n    for (const lightNode of lightNodes) {\n      if (lightNode.light.uuid === hash) {\n        return lightNode;\n      }\n    }\n    return null;\n  }\n  fromLights(lights) {\n    const lightNodes = [];\n    lights = sortLights(lights);\n    for (const light of lights) {\n      let lightNode = this.getLightNodeByHash(light.uuid);\n      if (lightNode === null) {\n        lightNode = new LightNode(light);\n      }\n      lightNodes.push(lightNode);\n    }\n    this.lightNodes = lightNodes;\n    this._hash = null;\n    return this;\n  }\n}\nexport default LightsNode;","map":{"version":3,"names":["Node","LightNode","sortLights","lights","sort","a","b","id","LightsNode","constructor","lightNodes","_hash","hasLight","length","generate","builder","lightNode","build","getHash","hash","light","uuid","getLightNodeByHash","fromLights","push"],"sources":["/Users/tumolabsstudent/Desktop/app/node_modules/three-stdlib/nodes/lights/LightsNode.js"],"sourcesContent":["import Node from '../core/Node.js';\nimport LightNode from './LightNode.js';\n\nconst sortLights = lights => {\n  return lights.sort((a, b) => a.id - b.id);\n};\n\nclass LightsNode extends Node {\n  constructor(lightNodes = []) {\n    super('vec3');\n    this.lightNodes = lightNodes;\n    this._hash = null;\n  }\n\n  get hasLight() {\n    return this.lightNodes.length > 0;\n  }\n\n  generate(builder) {\n    const lightNodes = this.lightNodes;\n\n    for (const lightNode of lightNodes) {\n      lightNode.build(builder);\n    }\n\n    return 'vec3( 0.0 )';\n  }\n\n  getHash() {\n    if (this._hash === null) {\n      let hash = '';\n      const lightNodes = this.lightNodes;\n\n      for (const lightNode of lightNodes) {\n        hash += lightNode.light.uuid + ' ';\n      }\n\n      this._hash = hash;\n    }\n\n    return this._hash;\n  }\n\n  getLightNodeByHash(hash) {\n    const lightNodes = this.lightNodes;\n\n    for (const lightNode of lightNodes) {\n      if (lightNode.light.uuid === hash) {\n        return lightNode;\n      }\n    }\n\n    return null;\n  }\n\n  fromLights(lights) {\n    const lightNodes = [];\n    lights = sortLights(lights);\n\n    for (const light of lights) {\n      let lightNode = this.getLightNodeByHash(light.uuid);\n\n      if (lightNode === null) {\n        lightNode = new LightNode(light);\n      }\n\n      lightNodes.push(lightNode);\n    }\n\n    this.lightNodes = lightNodes;\n    this._hash = null;\n    return this;\n  }\n\n}\n\nexport default LightsNode;\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,iBAAiB;AAClC,OAAOC,SAAS,MAAM,gBAAgB;AAEtC,MAAMC,UAAU,GAAGC,MAAM,IAAI;EAC3B,OAAOA,MAAM,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,EAAE,GAAGD,CAAC,CAACC,EAAE,CAAC;AAC3C,CAAC;AAED,MAAMC,UAAU,SAASR,IAAI,CAAC;EAC5BS,WAAW,GAAkB;IAAA,IAAjBC,UAAU,uEAAG,EAAE;IACzB,KAAK,CAAC,MAAM,CAAC;IACb,IAAI,CAACA,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACC,KAAK,GAAG,IAAI;EACnB;EAEA,IAAIC,QAAQ,GAAG;IACb,OAAO,IAAI,CAACF,UAAU,CAACG,MAAM,GAAG,CAAC;EACnC;EAEAC,QAAQ,CAACC,OAAO,EAAE;IAChB,MAAML,UAAU,GAAG,IAAI,CAACA,UAAU;IAElC,KAAK,MAAMM,SAAS,IAAIN,UAAU,EAAE;MAClCM,SAAS,CAACC,KAAK,CAACF,OAAO,CAAC;IAC1B;IAEA,OAAO,aAAa;EACtB;EAEAG,OAAO,GAAG;IACR,IAAI,IAAI,CAACP,KAAK,KAAK,IAAI,EAAE;MACvB,IAAIQ,IAAI,GAAG,EAAE;MACb,MAAMT,UAAU,GAAG,IAAI,CAACA,UAAU;MAElC,KAAK,MAAMM,SAAS,IAAIN,UAAU,EAAE;QAClCS,IAAI,IAAIH,SAAS,CAACI,KAAK,CAACC,IAAI,GAAG,GAAG;MACpC;MAEA,IAAI,CAACV,KAAK,GAAGQ,IAAI;IACnB;IAEA,OAAO,IAAI,CAACR,KAAK;EACnB;EAEAW,kBAAkB,CAACH,IAAI,EAAE;IACvB,MAAMT,UAAU,GAAG,IAAI,CAACA,UAAU;IAElC,KAAK,MAAMM,SAAS,IAAIN,UAAU,EAAE;MAClC,IAAIM,SAAS,CAACI,KAAK,CAACC,IAAI,KAAKF,IAAI,EAAE;QACjC,OAAOH,SAAS;MAClB;IACF;IAEA,OAAO,IAAI;EACb;EAEAO,UAAU,CAACpB,MAAM,EAAE;IACjB,MAAMO,UAAU,GAAG,EAAE;IACrBP,MAAM,GAAGD,UAAU,CAACC,MAAM,CAAC;IAE3B,KAAK,MAAMiB,KAAK,IAAIjB,MAAM,EAAE;MAC1B,IAAIa,SAAS,GAAG,IAAI,CAACM,kBAAkB,CAACF,KAAK,CAACC,IAAI,CAAC;MAEnD,IAAIL,SAAS,KAAK,IAAI,EAAE;QACtBA,SAAS,GAAG,IAAIf,SAAS,CAACmB,KAAK,CAAC;MAClC;MAEAV,UAAU,CAACc,IAAI,CAACR,SAAS,CAAC;IAC5B;IAEA,IAAI,CAACN,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,OAAO,IAAI;EACb;AAEF;AAEA,eAAeH,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}