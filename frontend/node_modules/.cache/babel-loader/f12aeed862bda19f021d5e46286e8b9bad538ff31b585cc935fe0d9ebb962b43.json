{"ast":null,"code":"import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Vector3, Color, Vector2, BufferGeometry, Float32BufferAttribute } from 'three';\n\n/**\n * Break faces with edges longer than maxEdgeLength\n */\n\nclass TessellateModifier {\n  constructor() {\n    let maxEdgeLength = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0.1;\n    let _maxIterations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n    _defineProperty(this, \"maxEdgeLength\", void 0);\n    _defineProperty(this, \"maxIterations\", void 0);\n    _defineProperty(this, \"modify\", geometry => {\n      if (geometry.index !== null) {\n        geometry = geometry.toNonIndexed();\n      } //\n\n      const maxIterations = this.maxIterations;\n      const maxEdgeLengthSquared = this.maxEdgeLength * this.maxEdgeLength;\n      const va = new Vector3();\n      const vb = new Vector3();\n      const vc = new Vector3();\n      const vm = new Vector3();\n      const vs = [va, vb, vc, vm];\n      const na = new Vector3();\n      const nb = new Vector3();\n      const nc = new Vector3();\n      const nm = new Vector3();\n      const ns = [na, nb, nc, nm];\n      const ca = new Color();\n      const cb = new Color();\n      const cc = new Color();\n      const cm = new Color();\n      const cs = [ca, cb, cc, cm];\n      const ua = new Vector2();\n      const ub = new Vector2();\n      const uc = new Vector2();\n      const um = new Vector2();\n      const us = [ua, ub, uc, um];\n      const u2a = new Vector2();\n      const u2b = new Vector2();\n      const u2c = new Vector2();\n      const u2m = new Vector2();\n      const u2s = [u2a, u2b, u2c, u2m];\n      const attributes = geometry.attributes;\n      const hasNormals = attributes.normal !== undefined;\n      const hasColors = attributes.color !== undefined;\n      const hasUVs = attributes.uv !== undefined;\n      const hasUV2s = attributes.uv2 !== undefined;\n      let positions = attributes.position.array;\n      let normals = hasNormals ? attributes.normal.array : null;\n      let colors = hasColors ? attributes.color.array : null;\n      let uvs = hasUVs ? attributes.uv.array : null;\n      let uv2s = hasUV2s ? attributes.uv2.array : null;\n      let positions2 = positions;\n      let normals2 = normals;\n      let colors2 = colors;\n      let uvs2 = uvs;\n      let uv2s2 = uv2s;\n      let iteration = 0;\n      let tessellating = true;\n      function addTriangle(a, b, c) {\n        const v1 = vs[a];\n        const v2 = vs[b];\n        const v3 = vs[c];\n        positions2.push(v1.x, v1.y, v1.z);\n        positions2.push(v2.x, v2.y, v2.z);\n        positions2.push(v3.x, v3.y, v3.z);\n        if (hasNormals) {\n          const n1 = ns[a];\n          const n2 = ns[b];\n          const n3 = ns[c];\n          normals2.push(n1.x, n1.y, n1.z);\n          normals2.push(n2.x, n2.y, n2.z);\n          normals2.push(n3.x, n3.y, n3.z);\n        }\n        if (hasColors) {\n          const c1 = cs[a];\n          const c2 = cs[b];\n          const c3 = cs[c];\n          colors2.push(c1.r, c1.g, c1.b);\n          colors2.push(c2.r, c2.g, c2.b);\n          colors2.push(c3.r, c3.g, c3.b);\n        }\n        if (hasUVs) {\n          const u1 = us[a];\n          const u2 = us[b];\n          const u3 = us[c];\n          uvs2.push(u1.x, u1.y);\n          uvs2.push(u2.x, u2.y);\n          uvs2.push(u3.x, u3.y);\n        }\n        if (hasUV2s) {\n          const u21 = u2s[a];\n          const u22 = u2s[b];\n          const u23 = u2s[c];\n          uv2s2.push(u21.x, u21.y);\n          uv2s2.push(u22.x, u22.y);\n          uv2s2.push(u23.x, u23.y);\n        }\n      }\n      while (tessellating && iteration < maxIterations) {\n        iteration++;\n        tessellating = false;\n        positions = positions2;\n        positions2 = [];\n        if (hasNormals) {\n          normals = normals2;\n          normals2 = [];\n        }\n        if (hasColors) {\n          colors = colors2;\n          colors2 = [];\n        }\n        if (hasUVs) {\n          uvs = uvs2;\n          uvs2 = [];\n        }\n        if (hasUV2s) {\n          uv2s = uv2s2;\n          uv2s2 = [];\n        }\n        for (let i = 0, i2 = 0, il = positions.length; i < il; i += 9, i2 += 6) {\n          va.fromArray(positions, i + 0);\n          vb.fromArray(positions, i + 3);\n          vc.fromArray(positions, i + 6);\n          if (hasNormals && normals) {\n            na.fromArray(normals, i + 0);\n            nb.fromArray(normals, i + 3);\n            nc.fromArray(normals, i + 6);\n          }\n          if (hasColors && colors) {\n            ca.fromArray(colors, i + 0);\n            cb.fromArray(colors, i + 3);\n            cc.fromArray(colors, i + 6);\n          }\n          if (hasUVs && uvs) {\n            ua.fromArray(uvs, i2 + 0);\n            ub.fromArray(uvs, i2 + 2);\n            uc.fromArray(uvs, i2 + 4);\n          }\n          if (hasUV2s && uv2s) {\n            u2a.fromArray(uv2s, i2 + 0);\n            u2b.fromArray(uv2s, i2 + 2);\n            u2c.fromArray(uv2s, i2 + 4);\n          }\n          const dab = va.distanceToSquared(vb);\n          const dbc = vb.distanceToSquared(vc);\n          const dac = va.distanceToSquared(vc);\n          if (dab > maxEdgeLengthSquared || dbc > maxEdgeLengthSquared || dac > maxEdgeLengthSquared) {\n            tessellating = true;\n            if (dab >= dbc && dab >= dac) {\n              vm.lerpVectors(va, vb, 0.5);\n              if (hasNormals) nm.lerpVectors(na, nb, 0.5);\n              if (hasColors) cm.lerpColors(ca, cb, 0.5);\n              if (hasUVs) um.lerpVectors(ua, ub, 0.5);\n              if (hasUV2s) u2m.lerpVectors(u2a, u2b, 0.5);\n              addTriangle(0, 3, 2);\n              addTriangle(3, 1, 2);\n            } else if (dbc >= dab && dbc >= dac) {\n              vm.lerpVectors(vb, vc, 0.5);\n              if (hasNormals) nm.lerpVectors(nb, nc, 0.5);\n              if (hasColors) cm.lerpColors(cb, cc, 0.5);\n              if (hasUVs) um.lerpVectors(ub, uc, 0.5);\n              if (hasUV2s) u2m.lerpVectors(u2b, u2c, 0.5);\n              addTriangle(0, 1, 3);\n              addTriangle(3, 2, 0);\n            } else {\n              vm.lerpVectors(va, vc, 0.5);\n              if (hasNormals) nm.lerpVectors(na, nc, 0.5);\n              if (hasColors) cm.lerpColors(ca, cc, 0.5);\n              if (hasUVs) um.lerpVectors(ua, uc, 0.5);\n              if (hasUV2s) u2m.lerpVectors(u2a, u2c, 0.5);\n              addTriangle(0, 1, 3);\n              addTriangle(3, 1, 2);\n            }\n          } else {\n            addTriangle(0, 1, 2);\n          }\n        }\n      }\n      const geometry2 = new BufferGeometry();\n      geometry2.setAttribute('position', new Float32BufferAttribute(positions2, 3));\n      if (hasNormals) {\n        geometry2.setAttribute('normal', new Float32BufferAttribute(normals2, 3));\n      }\n      if (hasColors) {\n        geometry2.setAttribute('color', new Float32BufferAttribute(colors2, 3));\n      }\n      if (hasUVs) {\n        geometry2.setAttribute('uv', new Float32BufferAttribute(uvs2, 2));\n      }\n      if (hasUV2s) {\n        geometry2.setAttribute('uv2', new Float32BufferAttribute(uv2s2, 2));\n      }\n      return geometry2;\n    });\n    this.maxEdgeLength = maxEdgeLength;\n    this.maxIterations = _maxIterations;\n  }\n}\nexport { TessellateModifier };","map":{"version":3,"names":["_defineProperty","Vector3","Color","Vector2","BufferGeometry","Float32BufferAttribute","TessellateModifier","constructor","maxEdgeLength","_maxIterations","geometry","index","toNonIndexed","maxIterations","maxEdgeLengthSquared","va","vb","vc","vm","vs","na","nb","nc","nm","ns","ca","cb","cc","cm","cs","ua","ub","uc","um","us","u2a","u2b","u2c","u2m","u2s","attributes","hasNormals","normal","undefined","hasColors","color","hasUVs","uv","hasUV2s","uv2","positions","position","array","normals","colors","uvs","uv2s","positions2","normals2","colors2","uvs2","uv2s2","iteration","tessellating","addTriangle","a","b","c","v1","v2","v3","push","x","y","z","n1","n2","n3","c1","c2","c3","r","g","u1","u2","u3","u21","u22","u23","i","i2","il","length","fromArray","dab","distanceToSquared","dbc","dac","lerpVectors","lerpColors","geometry2","setAttribute"],"sources":["/Users/tumolabsstudent/Desktop/app/node_modules/three-stdlib/modifiers/TessellateModifier.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Vector3, Color, Vector2, BufferGeometry, Float32BufferAttribute } from 'three';\n\n/**\n * Break faces with edges longer than maxEdgeLength\n */\n\nclass TessellateModifier {\n  constructor(maxEdgeLength = 0.1, _maxIterations = 6) {\n    _defineProperty(this, \"maxEdgeLength\", void 0);\n\n    _defineProperty(this, \"maxIterations\", void 0);\n\n    _defineProperty(this, \"modify\", geometry => {\n      if (geometry.index !== null) {\n        geometry = geometry.toNonIndexed();\n      } //\n\n\n      const maxIterations = this.maxIterations;\n      const maxEdgeLengthSquared = this.maxEdgeLength * this.maxEdgeLength;\n      const va = new Vector3();\n      const vb = new Vector3();\n      const vc = new Vector3();\n      const vm = new Vector3();\n      const vs = [va, vb, vc, vm];\n      const na = new Vector3();\n      const nb = new Vector3();\n      const nc = new Vector3();\n      const nm = new Vector3();\n      const ns = [na, nb, nc, nm];\n      const ca = new Color();\n      const cb = new Color();\n      const cc = new Color();\n      const cm = new Color();\n      const cs = [ca, cb, cc, cm];\n      const ua = new Vector2();\n      const ub = new Vector2();\n      const uc = new Vector2();\n      const um = new Vector2();\n      const us = [ua, ub, uc, um];\n      const u2a = new Vector2();\n      const u2b = new Vector2();\n      const u2c = new Vector2();\n      const u2m = new Vector2();\n      const u2s = [u2a, u2b, u2c, u2m];\n      const attributes = geometry.attributes;\n      const hasNormals = attributes.normal !== undefined;\n      const hasColors = attributes.color !== undefined;\n      const hasUVs = attributes.uv !== undefined;\n      const hasUV2s = attributes.uv2 !== undefined;\n      let positions = attributes.position.array;\n      let normals = hasNormals ? attributes.normal.array : null;\n      let colors = hasColors ? attributes.color.array : null;\n      let uvs = hasUVs ? attributes.uv.array : null;\n      let uv2s = hasUV2s ? attributes.uv2.array : null;\n      let positions2 = positions;\n      let normals2 = normals;\n      let colors2 = colors;\n      let uvs2 = uvs;\n      let uv2s2 = uv2s;\n      let iteration = 0;\n      let tessellating = true;\n\n      function addTriangle(a, b, c) {\n        const v1 = vs[a];\n        const v2 = vs[b];\n        const v3 = vs[c];\n        positions2.push(v1.x, v1.y, v1.z);\n        positions2.push(v2.x, v2.y, v2.z);\n        positions2.push(v3.x, v3.y, v3.z);\n\n        if (hasNormals) {\n          const n1 = ns[a];\n          const n2 = ns[b];\n          const n3 = ns[c];\n          normals2.push(n1.x, n1.y, n1.z);\n          normals2.push(n2.x, n2.y, n2.z);\n          normals2.push(n3.x, n3.y, n3.z);\n        }\n\n        if (hasColors) {\n          const c1 = cs[a];\n          const c2 = cs[b];\n          const c3 = cs[c];\n          colors2.push(c1.r, c1.g, c1.b);\n          colors2.push(c2.r, c2.g, c2.b);\n          colors2.push(c3.r, c3.g, c3.b);\n        }\n\n        if (hasUVs) {\n          const u1 = us[a];\n          const u2 = us[b];\n          const u3 = us[c];\n          uvs2.push(u1.x, u1.y);\n          uvs2.push(u2.x, u2.y);\n          uvs2.push(u3.x, u3.y);\n        }\n\n        if (hasUV2s) {\n          const u21 = u2s[a];\n          const u22 = u2s[b];\n          const u23 = u2s[c];\n          uv2s2.push(u21.x, u21.y);\n          uv2s2.push(u22.x, u22.y);\n          uv2s2.push(u23.x, u23.y);\n        }\n      }\n\n      while (tessellating && iteration < maxIterations) {\n        iteration++;\n        tessellating = false;\n        positions = positions2;\n        positions2 = [];\n\n        if (hasNormals) {\n          normals = normals2;\n          normals2 = [];\n        }\n\n        if (hasColors) {\n          colors = colors2;\n          colors2 = [];\n        }\n\n        if (hasUVs) {\n          uvs = uvs2;\n          uvs2 = [];\n        }\n\n        if (hasUV2s) {\n          uv2s = uv2s2;\n          uv2s2 = [];\n        }\n\n        for (let i = 0, i2 = 0, il = positions.length; i < il; i += 9, i2 += 6) {\n          va.fromArray(positions, i + 0);\n          vb.fromArray(positions, i + 3);\n          vc.fromArray(positions, i + 6);\n\n          if (hasNormals && normals) {\n            na.fromArray(normals, i + 0);\n            nb.fromArray(normals, i + 3);\n            nc.fromArray(normals, i + 6);\n          }\n\n          if (hasColors && colors) {\n            ca.fromArray(colors, i + 0);\n            cb.fromArray(colors, i + 3);\n            cc.fromArray(colors, i + 6);\n          }\n\n          if (hasUVs && uvs) {\n            ua.fromArray(uvs, i2 + 0);\n            ub.fromArray(uvs, i2 + 2);\n            uc.fromArray(uvs, i2 + 4);\n          }\n\n          if (hasUV2s && uv2s) {\n            u2a.fromArray(uv2s, i2 + 0);\n            u2b.fromArray(uv2s, i2 + 2);\n            u2c.fromArray(uv2s, i2 + 4);\n          }\n\n          const dab = va.distanceToSquared(vb);\n          const dbc = vb.distanceToSquared(vc);\n          const dac = va.distanceToSquared(vc);\n\n          if (dab > maxEdgeLengthSquared || dbc > maxEdgeLengthSquared || dac > maxEdgeLengthSquared) {\n            tessellating = true;\n\n            if (dab >= dbc && dab >= dac) {\n              vm.lerpVectors(va, vb, 0.5);\n              if (hasNormals) nm.lerpVectors(na, nb, 0.5);\n              if (hasColors) cm.lerpColors(ca, cb, 0.5);\n              if (hasUVs) um.lerpVectors(ua, ub, 0.5);\n              if (hasUV2s) u2m.lerpVectors(u2a, u2b, 0.5);\n              addTriangle(0, 3, 2);\n              addTriangle(3, 1, 2);\n            } else if (dbc >= dab && dbc >= dac) {\n              vm.lerpVectors(vb, vc, 0.5);\n              if (hasNormals) nm.lerpVectors(nb, nc, 0.5);\n              if (hasColors) cm.lerpColors(cb, cc, 0.5);\n              if (hasUVs) um.lerpVectors(ub, uc, 0.5);\n              if (hasUV2s) u2m.lerpVectors(u2b, u2c, 0.5);\n              addTriangle(0, 1, 3);\n              addTriangle(3, 2, 0);\n            } else {\n              vm.lerpVectors(va, vc, 0.5);\n              if (hasNormals) nm.lerpVectors(na, nc, 0.5);\n              if (hasColors) cm.lerpColors(ca, cc, 0.5);\n              if (hasUVs) um.lerpVectors(ua, uc, 0.5);\n              if (hasUV2s) u2m.lerpVectors(u2a, u2c, 0.5);\n              addTriangle(0, 1, 3);\n              addTriangle(3, 1, 2);\n            }\n          } else {\n            addTriangle(0, 1, 2);\n          }\n        }\n      }\n\n      const geometry2 = new BufferGeometry();\n      geometry2.setAttribute('position', new Float32BufferAttribute(positions2, 3));\n\n      if (hasNormals) {\n        geometry2.setAttribute('normal', new Float32BufferAttribute(normals2, 3));\n      }\n\n      if (hasColors) {\n        geometry2.setAttribute('color', new Float32BufferAttribute(colors2, 3));\n      }\n\n      if (hasUVs) {\n        geometry2.setAttribute('uv', new Float32BufferAttribute(uvs2, 2));\n      }\n\n      if (hasUV2s) {\n        geometry2.setAttribute('uv2', new Float32BufferAttribute(uv2s2, 2));\n      }\n\n      return geometry2;\n    });\n\n    this.maxEdgeLength = maxEdgeLength;\n    this.maxIterations = _maxIterations;\n  }\n\n}\n\nexport { TessellateModifier };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}