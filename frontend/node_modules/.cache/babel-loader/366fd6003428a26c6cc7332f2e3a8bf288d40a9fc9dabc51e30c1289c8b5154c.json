{"ast":null,"code":"import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { EventDispatcher, Vector3, TOUCH, Spherical, Vector2, Quaternion, PerspectiveCamera, OrthographicCamera, MOUSE } from 'three';\nlet STATE;\n(function (STATE) {\n  STATE[STATE[\"NONE\"] = -1] = \"NONE\";\n  STATE[STATE[\"ROTATE\"] = 0] = \"ROTATE\";\n  STATE[STATE[\"DOLLY\"] = 1] = \"DOLLY\";\n  STATE[STATE[\"PAN\"] = 2] = \"PAN\";\n  STATE[STATE[\"TOUCH_ROTATE\"] = 3] = \"TOUCH_ROTATE\";\n  STATE[STATE[\"TOUCH_PAN\"] = 4] = \"TOUCH_PAN\";\n  STATE[STATE[\"TOUCH_DOLLY_PAN\"] = 5] = \"TOUCH_DOLLY_PAN\";\n  STATE[STATE[\"TOUCH_DOLLY_ROTATE\"] = 6] = \"TOUCH_DOLLY_ROTATE\";\n})(STATE || (STATE = {}));\nclass CameraControls extends EventDispatcher {\n  /** Set to false to disable this control */\n\n  /** \"target\" sets the location of focus, where the object orbits around */\n\n  /** Set to true to enable trackball behavior */\n\n  /** How far you can dolly in ( PerspectiveCamera only ) */\n\n  /** How far you can dolly out ( PerspectiveCamera only ) */\n  // How far you can zoom in and out ( OrthographicCamera only )\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  // radians\n  // radians\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n\n  /**\n   * This option enables dollying in and out; property named as \"zoom\" for backwards compatibility\n   * Set to false to disable zooming\n   */\n\n  /** Set to false to disable rotating */\n\n  /** Set to false to disable panning */\n\n  /** if true, pan in screen-space */\n\n  /** pixels moved per arrow key push */\n\n  /**\n   * Set to true to automatically rotate around the target\n   * If auto-rotate is enabled, you must call controls.update() in your animation loop\n   * auto-rotate is not supported for trackball behavior\n   */\n  // 30 seconds per round when fps is 60\n\n  /** Set to false to disable use of the keys */\n\n  /** The four arrow keys */\n\n  /** Touch fingers */\n  // for reset\n  // current position in spherical coordinates\n  constructor(object, domElement) {\n    super();\n    _defineProperty(this, \"object\", void 0);\n    _defineProperty(this, \"domElement\", void 0);\n    _defineProperty(this, \"enabled\", true);\n    _defineProperty(this, \"target\", new Vector3());\n    _defineProperty(this, \"trackball\", false);\n    _defineProperty(this, \"minDistance\", 0);\n    _defineProperty(this, \"maxDistance\", Infinity);\n    _defineProperty(this, \"minZoom\", 0);\n    _defineProperty(this, \"maxZoom\", Infinity);\n    _defineProperty(this, \"minPolarAngle\", 0);\n    _defineProperty(this, \"maxPolarAngle\", Math.PI);\n    _defineProperty(this, \"minAzimuthAngle\", -Infinity);\n    _defineProperty(this, \"maxAzimuthAngle\", Infinity);\n    _defineProperty(this, \"enableDamping\", false);\n    _defineProperty(this, \"dampingFactor\", 0.05);\n    _defineProperty(this, \"enableZoom\", true);\n    _defineProperty(this, \"zoomSpeed\", 1.0);\n    _defineProperty(this, \"enableRotate\", true);\n    _defineProperty(this, \"rotateSpeed\", 1.0);\n    _defineProperty(this, \"enablePan\", true);\n    _defineProperty(this, \"panSpeed\", 1.0);\n    _defineProperty(this, \"screenSpacePanning\", false);\n    _defineProperty(this, \"keyPanSpeed\", 7.0);\n    _defineProperty(this, \"autoRotate\", false);\n    _defineProperty(this, \"autoRotateSpeed\", 2.0);\n    _defineProperty(this, \"enableKeys\", true);\n    _defineProperty(this, \"keys\", {\n      LEFT: 'ArrowLeft',\n      UP: 'ArrowUp',\n      RIGHT: 'ArrowRight',\n      BOTTOM: 'ArrowDown'\n    });\n    _defineProperty(this, \"mouseButtons\", void 0);\n    _defineProperty(this, \"touches\", {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    });\n    _defineProperty(this, \"target0\", void 0);\n    _defineProperty(this, \"position0\", void 0);\n    _defineProperty(this, \"quaternion0\", void 0);\n    _defineProperty(this, \"zoom0\", void 0);\n    _defineProperty(this, \"spherical\", new Spherical());\n    _defineProperty(this, \"sphericalDelta\", new Spherical());\n    _defineProperty(this, \"changeEvent\", {\n      type: 'change'\n    });\n    _defineProperty(this, \"startEvent\", {\n      type: 'start'\n    });\n    _defineProperty(this, \"endEvent\", {\n      type: 'end'\n    });\n    _defineProperty(this, \"state\", STATE.NONE);\n    _defineProperty(this, \"EPS\", 0.000001);\n    _defineProperty(this, \"scale\", 1);\n    _defineProperty(this, \"panOffset\", new Vector3());\n    _defineProperty(this, \"zoomChanged\", false);\n    _defineProperty(this, \"rotateStart\", new Vector2());\n    _defineProperty(this, \"rotateEnd\", new Vector2());\n    _defineProperty(this, \"rotateDelta\", new Vector2());\n    _defineProperty(this, \"panStart\", new Vector2());\n    _defineProperty(this, \"panEnd\", new Vector2());\n    _defineProperty(this, \"panDelta\", new Vector2());\n    _defineProperty(this, \"dollyStart\", new Vector2());\n    _defineProperty(this, \"dollyEnd\", new Vector2());\n    _defineProperty(this, \"dollyDelta\", new Vector2());\n    _defineProperty(this, \"offset\", new Vector3());\n    _defineProperty(this, \"lastPosition\", new Vector3());\n    _defineProperty(this, \"lastQuaternion\", new Quaternion());\n    _defineProperty(this, \"q\", new Quaternion());\n    _defineProperty(this, \"v\", new Vector3());\n    _defineProperty(this, \"vec\", new Vector3());\n    _defineProperty(this, \"quat\", void 0);\n    _defineProperty(this, \"quatInverse\", void 0);\n    _defineProperty(this, \"getPolarAngle\", () => this.spherical.phi);\n    _defineProperty(this, \"getAzimuthalAngle\", () => this.spherical.theta);\n    _defineProperty(this, \"saveState\", () => {\n      this.target0.copy(this.target);\n      this.position0.copy(this.object.position);\n      this.quaternion0.copy(this.object.quaternion);\n      this.zoom0 = this.object.zoom;\n    });\n    _defineProperty(this, \"reset\", () => {\n      this.target.copy(this.target0);\n      this.object.position.copy(this.position0);\n      this.object.quaternion.copy(this.quaternion0);\n      this.object.zoom = this.zoom0;\n      this.object.updateProjectionMatrix();\n      this.dispatchEvent(this.changeEvent);\n      this.update();\n      this.state = STATE.NONE;\n    });\n    _defineProperty(this, \"dispose\", () => {\n      this.domElement.removeEventListener('contextmenu', this.onContextMenu, false);\n      this.domElement.removeEventListener('mousedown', this.onMouseDown, false);\n      this.domElement.removeEventListener('wheel', this.onMouseWheel, false);\n      this.domElement.removeEventListener('touchstart', this.onTouchStart, false);\n      this.domElement.removeEventListener('touchend', this.onTouchEnd, false);\n      this.domElement.removeEventListener('touchmove', this.onTouchMove, false);\n      document.removeEventListener('mousemove', this.onMouseMove, false);\n      document.removeEventListener('mouseup', this.onMouseUp, false);\n      this.domElement.removeEventListener('keydown', this.onKeyDown, false); //this.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n    });\n\n    _defineProperty(this, \"update\", () => {\n      const position = this.object.position;\n      this.offset.copy(position).sub(this.target);\n      if (this.trackball) {\n        // rotate around screen-space y-axis\n        if (this.sphericalDelta.theta) {\n          this.vec.set(0, 1, 0).applyQuaternion(this.object.quaternion);\n          const factor = this.enableDamping ? this.dampingFactor : 1;\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.theta * factor);\n          this.object.quaternion.premultiply(this.q);\n          this.offset.applyQuaternion(this.q);\n        } // rotate around screen-space x-axis\n\n        if (this.sphericalDelta.phi) {\n          this.vec.set(1, 0, 0).applyQuaternion(this.object.quaternion);\n          const factor = this.enableDamping ? this.dampingFactor : 1;\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.phi * factor);\n          this.object.quaternion.premultiply(this.q);\n          this.offset.applyQuaternion(this.q);\n        }\n        this.offset.multiplyScalar(this.scale);\n        this.offset.clampLength(this.minDistance, this.maxDistance);\n      } else {\n        // rotate offset to \"y-axis-is-up\" space\n        this.offset.applyQuaternion(this.quat);\n        if (this.autoRotate && this.state === STATE.NONE) {\n          this.rotateLeft(this.getAutoRotationAngle());\n        }\n        this.spherical.setFromVector3(this.offset);\n        if (this.enableDamping) {\n          this.spherical.theta += this.sphericalDelta.theta * this.dampingFactor;\n          this.spherical.phi += this.sphericalDelta.phi * this.dampingFactor;\n        } else {\n          this.spherical.theta += this.sphericalDelta.theta;\n          this.spherical.phi += this.sphericalDelta.phi;\n        } // restrict theta to be between desired limits\n\n        this.spherical.theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, this.spherical.theta)); // restrict phi to be between desired limits\n\n        this.spherical.phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, this.spherical.phi));\n        this.spherical.makeSafe();\n        this.spherical.radius *= this.scale; // restrict radius to be between desired limits\n\n        this.spherical.radius = Math.max(this.minDistance, Math.min(this.maxDistance, this.spherical.radius));\n        this.offset.setFromSpherical(this.spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n        this.offset.applyQuaternion(this.quatInverse);\n      } // move target to panned location\n\n      if (this.enableDamping === true) {\n        this.target.addScaledVector(this.panOffset, this.dampingFactor);\n      } else {\n        this.target.add(this.panOffset);\n      }\n      position.copy(this.target).add(this.offset);\n      if (this.trackball === false) {\n        this.object.lookAt(this.target);\n      }\n      if (this.enableDamping === true) {\n        this.sphericalDelta.theta *= 1 - this.dampingFactor;\n        this.sphericalDelta.phi *= 1 - this.dampingFactor;\n        this.panOffset.multiplyScalar(1 - this.dampingFactor);\n      } else {\n        this.sphericalDelta.set(0, 0, 0);\n        this.panOffset.set(0, 0, 0);\n      }\n      this.scale = 1; // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (this.zoomChanged || this.lastPosition.distanceToSquared(this.object.position) > this.EPS || 8 * (1 - this.lastQuaternion.dot(this.object.quaternion)) > this.EPS) {\n        this.dispatchEvent(this.changeEvent);\n        this.lastPosition.copy(this.object.position);\n        this.lastQuaternion.copy(this.object.quaternion);\n        this.zoomChanged = false;\n        return true;\n      }\n      return false;\n    });\n    _defineProperty(this, \"getAutoRotationAngle\", () => 2 * Math.PI / 60 / 60 * this.autoRotateSpeed);\n    _defineProperty(this, \"getZoomScale\", () => Math.pow(0.95, this.zoomSpeed));\n    _defineProperty(this, \"rotateLeft\", angle => {\n      this.sphericalDelta.theta -= angle;\n    });\n    _defineProperty(this, \"rotateUp\", angle => {\n      this.sphericalDelta.phi -= angle;\n    });\n    _defineProperty(this, \"panLeft\", (distance, objectMatrix) => {\n      this.v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n      this.v.multiplyScalar(-distance);\n      this.panOffset.add(this.v);\n    });\n    _defineProperty(this, \"panUp\", (distance, objectMatrix) => {\n      if (this.screenSpacePanning === true) {\n        this.v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        this.v.setFromMatrixColumn(objectMatrix, 0);\n        this.v.crossVectors(this.object.up, this.v);\n      }\n      this.v.multiplyScalar(distance);\n      this.panOffset.add(this.v);\n    });\n    _defineProperty(this, \"pan\", (deltaX, deltaY) => {\n      const element = this.domElement;\n      if (this.object instanceof PerspectiveCamera) {\n        // perspective\n        const position = this.object.position;\n        this.offset.copy(position).sub(this.target);\n        let targetDistance = this.offset.length(); // half of the fov is center to top of screen\n\n        targetDistance *= Math.tan(this.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\n\n        this.panLeft(2 * deltaX * targetDistance / element.clientHeight, this.object.matrix);\n        this.panUp(2 * deltaY * targetDistance / element.clientHeight, this.object.matrix);\n      } else if (this.object.isOrthographicCamera) {\n        // orthographic\n        this.panLeft(deltaX * (this.object.right - this.object.left) / this.object.zoom / element.clientWidth, this.object.matrix);\n        this.panUp(deltaY * (this.object.top - this.object.bottom) / this.object.zoom / element.clientHeight, this.object.matrix);\n      } else {\n        // camera neither orthographic nor perspective\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - pan disabled.');\n        this.enablePan = false;\n      }\n    });\n    _defineProperty(this, \"dollyIn\", dollyScale => {\n      // TODO: replace w/.isPerspectiveCamera ?\n      if (this.object instanceof PerspectiveCamera) {\n        this.scale /= dollyScale; // TODO: replace w/.isOrthographicCamera ?\n      } else if (this.object instanceof OrthographicCamera) {\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\n        this.object.updateProjectionMatrix();\n        this.zoomChanged = true;\n      } else {\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        this.enableZoom = false;\n      }\n    });\n    _defineProperty(this, \"dollyOut\", dollyScale => {\n      // TODO: replace w/.isPerspectiveCamera ?\n      if (this.object instanceof PerspectiveCamera) {\n        this.scale *= dollyScale; // TODO: replace w/.isOrthographicCamera ?\n      } else if (this.object instanceof OrthographicCamera) {\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\n        this.object.updateProjectionMatrix();\n        this.zoomChanged = true;\n      } else {\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        this.enableZoom = false;\n      }\n    });\n    _defineProperty(this, \"handleMouseDownRotate\", event => {\n      this.rotateStart.set(event.clientX, event.clientY);\n    });\n    _defineProperty(this, \"handleMouseDownDolly\", event => {\n      this.dollyStart.set(event.clientX, event.clientY);\n    });\n    _defineProperty(this, \"handleMouseDownPan\", event => {\n      this.panStart.set(event.clientX, event.clientY);\n    });\n    _defineProperty(this, \"handleMouseMoveRotate\", event => {\n      this.rotateEnd.set(event.clientX, event.clientY);\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\n      const element = this.domElement;\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight); // yes, height\n\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\n      this.rotateStart.copy(this.rotateEnd);\n      this.update();\n    });\n    _defineProperty(this, \"handleMouseMoveDolly\", event => {\n      this.dollyEnd.set(event.clientX, event.clientY);\n      this.dollyDelta.subVectors(this.dollyEnd, this.dollyStart);\n      if (this.dollyDelta.y > 0) {\n        this.dollyIn(this.getZoomScale());\n      } else if (this.dollyDelta.y < 0) {\n        this.dollyOut(this.getZoomScale());\n      }\n      this.dollyStart.copy(this.dollyEnd);\n      this.update();\n    });\n    _defineProperty(this, \"handleMouseMovePan\", event => {\n      this.panEnd.set(event.clientX, event.clientY);\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\n      this.pan(this.panDelta.x, this.panDelta.y);\n      this.panStart.copy(this.panEnd);\n      this.update();\n    });\n    _defineProperty(this, \"handleMouseWheel\", event => {\n      if (event.deltaY < 0) {\n        this.dollyOut(this.getZoomScale());\n      } else if (event.deltaY > 0) {\n        this.dollyIn(this.getZoomScale());\n      }\n      this.update();\n    });\n    _defineProperty(this, \"handleKeyDown\", event => {\n      let needsUpdate = false;\n      switch (event.code) {\n        case this.keys.UP:\n          this.pan(0, this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case this.keys.BOTTOM:\n          this.pan(0, -this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case this.keys.LEFT:\n          this.pan(this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n        case this.keys.RIGHT:\n          this.pan(-this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n      if (needsUpdate) {\n        // prevent the browser from scrolling on cursor keys\n        event.preventDefault();\n        this.update();\n      }\n    });\n    _defineProperty(this, \"handleTouchStartRotate\", event => {\n      if (event.touches.length == 1) {\n        this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.rotateStart.set(x, y);\n      }\n    });\n    _defineProperty(this, \"handleTouchStartPan\", event => {\n      if (event.touches.length == 1) {\n        this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.panStart.set(x, y);\n      }\n    });\n    _defineProperty(this, \"handleTouchStartDolly\", event => {\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      this.dollyStart.set(0, distance);\n    });\n    _defineProperty(this, \"handleTouchStartDollyPan\", event => {\n      if (this.enableZoom) this.handleTouchStartDolly(event);\n      if (this.enablePan) this.handleTouchStartPan(event);\n    });\n    _defineProperty(this, \"handleTouchStartDollyRotate\", event => {\n      if (this.enableZoom) this.handleTouchStartDolly(event);\n      if (this.enableRotate) this.handleTouchStartRotate(event);\n    });\n    _defineProperty(this, \"handleTouchMoveRotate\", event => {\n      if (event.touches.length == 1) {\n        this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.rotateEnd.set(x, y);\n      }\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\n      const element = this.domElement;\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight); // yes, height\n\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\n      this.rotateStart.copy(this.rotateEnd);\n    });\n    _defineProperty(this, \"handleTouchMovePan\", event => {\n      if (event.touches.length == 1) {\n        this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.panEnd.set(x, y);\n      }\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\n      this.pan(this.panDelta.x, this.panDelta.y);\n      this.panStart.copy(this.panEnd);\n    });\n    _defineProperty(this, \"handleTouchMoveDolly\", event => {\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      this.dollyEnd.set(0, distance);\n      this.dollyDelta.set(0, Math.pow(this.dollyEnd.y / this.dollyStart.y, this.zoomSpeed));\n      this.dollyIn(this.dollyDelta.y);\n      this.dollyStart.copy(this.dollyEnd);\n    });\n    _defineProperty(this, \"handleTouchMoveDollyPan\", event => {\n      if (this.enableZoom) this.handleTouchMoveDolly(event);\n      if (this.enablePan) this.handleTouchMovePan(event);\n    });\n    _defineProperty(this, \"handleTouchMoveDollyRotate\", event => {\n      if (this.enableZoom) this.handleTouchMoveDolly(event);\n      if (this.enableRotate) this.handleTouchMoveRotate(event);\n    });\n    _defineProperty(this, \"onMouseDown\", event => {\n      if (this.enabled === false) return; // Prevent the browser from scrolling.\n\n      event.preventDefault(); // Manually set the focus since calling preventDefault above\n      // prevents the browser from setting it automatically.\n\n      this.domElement.focus ? this.domElement.focus() : window.focus();\n      let mouseAction;\n      switch (event.button) {\n        case 0:\n          mouseAction = this.mouseButtons.LEFT;\n          break;\n        case 1:\n          mouseAction = this.mouseButtons.MIDDLE;\n          break;\n        case 2:\n          mouseAction = this.mouseButtons.RIGHT;\n          break;\n        default:\n          mouseAction = -1;\n      }\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (this.enableZoom === false) return;\n          this.handleMouseDownDolly(event);\n          this.state = STATE.DOLLY;\n          break;\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.enablePan === false) return;\n            this.handleMouseDownPan(event);\n            this.state = STATE.PAN;\n          } else {\n            if (this.enableRotate === false) return;\n            this.handleMouseDownRotate(event);\n            this.state = STATE.ROTATE;\n          }\n          break;\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.enableRotate === false) return;\n            this.handleMouseDownRotate(event);\n            this.state = STATE.ROTATE;\n          } else {\n            if (this.enablePan === false) return;\n            this.handleMouseDownPan(event);\n            this.state = STATE.PAN;\n          }\n          break;\n        default:\n          this.state = STATE.NONE;\n      }\n      if (this.state !== STATE.NONE) {\n        document.addEventListener('mousemove', this.onMouseMove, false);\n        document.addEventListener('mouseup', this.onMouseUp, false);\n        this.dispatchEvent(this.startEvent);\n      }\n    });\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n      switch (this.state) {\n        case STATE.ROTATE:\n          if (this.enableRotate === false) return;\n          this.handleMouseMoveRotate(event);\n          break;\n        case STATE.DOLLY:\n          if (this.enableZoom === false) return;\n          this.handleMouseMoveDolly(event);\n          break;\n        case STATE.PAN:\n          if (this.enablePan === false) return;\n          this.handleMouseMovePan(event);\n          break;\n      }\n    });\n    _defineProperty(this, \"onMouseUp\", () => {\n      if (this.enabled === false) return; // this.handleMouseUp()\n\n      document.removeEventListener('mousemove', this.onMouseMove, false);\n      document.removeEventListener('mouseup', this.onMouseUp, false);\n      this.dispatchEvent(this.endEvent);\n      this.state = STATE.NONE;\n    });\n    _defineProperty(this, \"onMouseWheel\", event => {\n      if (this.enabled === false || this.enableZoom === false || this.state !== STATE.NONE && this.state !== STATE.ROTATE) {\n        return;\n      }\n      event.preventDefault();\n      this.dispatchEvent(this.startEvent);\n      this.handleMouseWheel(event);\n      this.dispatchEvent(this.endEvent);\n    });\n    _defineProperty(this, \"onKeyDown\", event => {\n      if (this.enabled === false || this.enableKeys === false || this.enablePan === false) return;\n      this.handleKeyDown(event);\n    });\n    _defineProperty(this, \"onTouchStart\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n      switch (event.touches.length) {\n        case 1:\n          switch (this.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (this.enableRotate === false) return;\n              this.handleTouchStartRotate(event);\n              this.state = STATE.TOUCH_ROTATE;\n              break;\n            case TOUCH.PAN:\n              if (this.enablePan === false) return;\n              this.handleTouchStartPan(event);\n              this.state = STATE.TOUCH_PAN;\n              break;\n            default:\n              this.state = STATE.NONE;\n          }\n          break;\n        case 2:\n          switch (this.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (this.enableZoom === false && this.enablePan === false) return;\n              this.handleTouchStartDollyPan(event);\n              this.state = STATE.TOUCH_DOLLY_PAN;\n              break;\n            case TOUCH.DOLLY_ROTATE:\n              if (this.enableZoom === false && this.enableRotate === false) return;\n              this.handleTouchStartDollyRotate(event);\n              this.state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n            default:\n              this.state = STATE.NONE;\n          }\n          break;\n        default:\n          this.state = STATE.NONE;\n      }\n      if (this.state !== STATE.NONE) {\n        this.dispatchEvent(this.startEvent);\n      }\n    });\n    _defineProperty(this, \"onTouchMove\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n      switch (this.state) {\n        case STATE.TOUCH_ROTATE:\n          if (this.enableRotate === false) return;\n          this.handleTouchMoveRotate(event);\n          this.update();\n          break;\n        case STATE.TOUCH_PAN:\n          if (this.enablePan === false) return;\n          this.handleTouchMovePan(event);\n          this.update();\n          break;\n        case STATE.TOUCH_DOLLY_PAN:\n          if (this.enableZoom === false && this.enablePan === false) return;\n          this.handleTouchMoveDollyPan(event);\n          this.update();\n          break;\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (this.enableZoom === false && this.enableRotate === false) return;\n          this.handleTouchMoveDollyRotate(event);\n          this.update();\n          break;\n        default:\n          this.state = STATE.NONE;\n      }\n    });\n    _defineProperty(this, \"onTouchEnd\", () => {\n      if (this.enabled === false) return; // this.handleTouchEnd()\n\n      this.dispatchEvent(this.endEvent);\n      this.state = STATE.NONE;\n    });\n    _defineProperty(this, \"onContextMenu\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n    });\n    if (domElement === undefined) {\n      console.warn('THREE.CameraControls: The second parameter \"domElement\" is now mandatory.');\n    }\n    if (domElement instanceof Document) {\n      console.error('THREE.CameraControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n    }\n    this.object = object;\n    this.domElement = domElement;\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    }; // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.quaternion0 = this.object.quaternion.clone();\n    this.zoom0 = this.object.zoom; //\n    // internals\n    //\n    // so camera.up is the orbit axis\n\n    this.quat = new Quaternion().setFromUnitVectors(this.object.up, new Vector3(0, 1, 0));\n    this.quatInverse = this.quat.clone().invert();\n    this.lastPosition = new Vector3();\n    this.lastQuaternion = new Quaternion();\n    this.domElement.addEventListener('contextmenu', this.onContextMenu, false);\n    this.domElement.addEventListener('mousedown', this.onMouseDown, false);\n    this.domElement.addEventListener('wheel', this.onMouseWheel, false);\n    this.domElement.addEventListener('touchstart', this.onTouchStart, false);\n    this.domElement.addEventListener('touchend', this.onTouchEnd, false);\n    this.domElement.addEventListener('touchmove', this.onTouchMove, false);\n    this.domElement.addEventListener('keydown', this.onKeyDown, false); // make sure element can receive keys.\n\n    if (this.domElement.tabIndex === -1) {\n      this.domElement.tabIndex = 0;\n    } // force an update at start\n\n    this.object.lookAt(this.target);\n    this.update();\n    this.saveState();\n  }\n  handleMouseUp() {// no-op\n  }\n  handleTouchEnd() {// no-op\n  } //\n  // event handlers - FSM: listen for events and reset state\n  //\n}\n/**\n * OrbitControls maintains the \"up\" direction, camera.up (+Y by default).\n *\n * @event Orbit - left mouse / touch: one-finger move\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n * @event Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n */\n\nclass OrbitControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    _defineProperty(this, \"mouseButtons\", void 0);\n    _defineProperty(this, \"touches\", void 0);\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n  }\n}\n/**\n * MapControls maintains the \"up\" direction, camera.up (+Y by default)\n *\n * @event Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n * @event Pan - left mouse, or left right + ctrl/meta/shiftKey, or arrow keys / touch: one-finger move\n */\n\nclass MapControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    _defineProperty(this, \"mouseButtons\", void 0);\n    _defineProperty(this, \"touches\", void 0);\n    this.mouseButtons = {\n      LEFT: MOUSE.PAN,\n      RIGHT: MOUSE.ROTATE\n    };\n    this.touches = {\n      ONE: TOUCH.PAN,\n      TWO: TOUCH.DOLLY_ROTATE\n    };\n  }\n}\n/**\n * TrackballControls allows the camera to rotate over the polls and does not maintain camera.up\n *\n * @event Orbit - left mouse / touch: one-finger move\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n * @event Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n */\n\nclass TrackballControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    _defineProperty(this, \"trackball\", void 0);\n    _defineProperty(this, \"screenSpacePanning\", void 0);\n    _defineProperty(this, \"autoRotate\", void 0);\n    _defineProperty(this, \"mouseButtons\", void 0);\n    _defineProperty(this, \"touches\", void 0);\n    this.trackball = true;\n    this.screenSpacePanning = true;\n    this.autoRotate = false;\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n  }\n}\nexport { CameraControls, MapControlsExp, OrbitControlsExp, STATE, TrackballControlsExp };","map":{"version":3,"names":["_defineProperty","EventDispatcher","Vector3","TOUCH","Spherical","Vector2","Quaternion","PerspectiveCamera","OrthographicCamera","MOUSE","STATE","CameraControls","constructor","object","domElement","Infinity","Math","PI","LEFT","UP","RIGHT","BOTTOM","ONE","ROTATE","TWO","DOLLY_PAN","type","NONE","spherical","phi","theta","target0","copy","target","position0","position","quaternion0","quaternion","zoom0","zoom","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","document","onMouseMove","onMouseUp","onKeyDown","offset","sub","trackball","sphericalDelta","vec","set","applyQuaternion","factor","enableDamping","dampingFactor","q","setFromAxisAngle","premultiply","multiplyScalar","scale","clampLength","minDistance","maxDistance","quat","autoRotate","rotateLeft","getAutoRotationAngle","setFromVector3","max","minAzimuthAngle","min","maxAzimuthAngle","minPolarAngle","maxPolarAngle","makeSafe","radius","setFromSpherical","quatInverse","addScaledVector","panOffset","add","lookAt","zoomChanged","lastPosition","distanceToSquared","EPS","lastQuaternion","dot","autoRotateSpeed","pow","zoomSpeed","angle","distance","objectMatrix","v","setFromMatrixColumn","screenSpacePanning","crossVectors","up","deltaX","deltaY","element","targetDistance","length","tan","fov","panLeft","clientHeight","matrix","panUp","isOrthographicCamera","right","left","clientWidth","top","bottom","console","warn","enablePan","dollyScale","minZoom","maxZoom","enableZoom","event","rotateStart","clientX","clientY","dollyStart","panStart","rotateEnd","rotateDelta","subVectors","rotateSpeed","x","rotateUp","y","dollyEnd","dollyDelta","dollyIn","getZoomScale","dollyOut","panEnd","panDelta","panSpeed","pan","needsUpdate","code","keys","keyPanSpeed","preventDefault","touches","pageX","pageY","dx","dy","sqrt","handleTouchStartDolly","handleTouchStartPan","enableRotate","handleTouchStartRotate","handleTouchMoveDolly","handleTouchMovePan","handleTouchMoveRotate","enabled","focus","window","mouseAction","button","mouseButtons","MIDDLE","DOLLY","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","handleMouseDownPan","PAN","handleMouseDownRotate","addEventListener","startEvent","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","endEvent","handleMouseWheel","enableKeys","handleKeyDown","TOUCH_ROTATE","TOUCH_PAN","handleTouchStartDollyPan","TOUCH_DOLLY_PAN","DOLLY_ROTATE","handleTouchStartDollyRotate","TOUCH_DOLLY_ROTATE","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","undefined","Document","error","clone","setFromUnitVectors","invert","tabIndex","saveState","handleMouseUp","handleTouchEnd","OrbitControlsExp","MapControlsExp","TrackballControlsExp"],"sources":["/Users/tumolabsstudent/Desktop/app/node_modules/three-stdlib/controls/experimental/CameraControls.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { EventDispatcher, Vector3, TOUCH, Spherical, Vector2, Quaternion, PerspectiveCamera, OrthographicCamera, MOUSE } from 'three';\n\nlet STATE;\n\n(function (STATE) {\n  STATE[STATE[\"NONE\"] = -1] = \"NONE\";\n  STATE[STATE[\"ROTATE\"] = 0] = \"ROTATE\";\n  STATE[STATE[\"DOLLY\"] = 1] = \"DOLLY\";\n  STATE[STATE[\"PAN\"] = 2] = \"PAN\";\n  STATE[STATE[\"TOUCH_ROTATE\"] = 3] = \"TOUCH_ROTATE\";\n  STATE[STATE[\"TOUCH_PAN\"] = 4] = \"TOUCH_PAN\";\n  STATE[STATE[\"TOUCH_DOLLY_PAN\"] = 5] = \"TOUCH_DOLLY_PAN\";\n  STATE[STATE[\"TOUCH_DOLLY_ROTATE\"] = 6] = \"TOUCH_DOLLY_ROTATE\";\n})(STATE || (STATE = {}));\n\nclass CameraControls extends EventDispatcher {\n  /** Set to false to disable this control */\n\n  /** \"target\" sets the location of focus, where the object orbits around */\n\n  /** Set to true to enable trackball behavior */\n\n  /** How far you can dolly in ( PerspectiveCamera only ) */\n\n  /** How far you can dolly out ( PerspectiveCamera only ) */\n  // How far you can zoom in and out ( OrthographicCamera only )\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  // radians\n  // radians\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n\n  /**\n   * This option enables dollying in and out; property named as \"zoom\" for backwards compatibility\n   * Set to false to disable zooming\n   */\n\n  /** Set to false to disable rotating */\n\n  /** Set to false to disable panning */\n\n  /** if true, pan in screen-space */\n\n  /** pixels moved per arrow key push */\n\n  /**\n   * Set to true to automatically rotate around the target\n   * If auto-rotate is enabled, you must call controls.update() in your animation loop\n   * auto-rotate is not supported for trackball behavior\n   */\n  // 30 seconds per round when fps is 60\n\n  /** Set to false to disable use of the keys */\n\n  /** The four arrow keys */\n\n  /** Touch fingers */\n  // for reset\n  // current position in spherical coordinates\n  constructor(object, domElement) {\n    super();\n\n    _defineProperty(this, \"object\", void 0);\n\n    _defineProperty(this, \"domElement\", void 0);\n\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"target\", new Vector3());\n\n    _defineProperty(this, \"trackball\", false);\n\n    _defineProperty(this, \"minDistance\", 0);\n\n    _defineProperty(this, \"maxDistance\", Infinity);\n\n    _defineProperty(this, \"minZoom\", 0);\n\n    _defineProperty(this, \"maxZoom\", Infinity);\n\n    _defineProperty(this, \"minPolarAngle\", 0);\n\n    _defineProperty(this, \"maxPolarAngle\", Math.PI);\n\n    _defineProperty(this, \"minAzimuthAngle\", -Infinity);\n\n    _defineProperty(this, \"maxAzimuthAngle\", Infinity);\n\n    _defineProperty(this, \"enableDamping\", false);\n\n    _defineProperty(this, \"dampingFactor\", 0.05);\n\n    _defineProperty(this, \"enableZoom\", true);\n\n    _defineProperty(this, \"zoomSpeed\", 1.0);\n\n    _defineProperty(this, \"enableRotate\", true);\n\n    _defineProperty(this, \"rotateSpeed\", 1.0);\n\n    _defineProperty(this, \"enablePan\", true);\n\n    _defineProperty(this, \"panSpeed\", 1.0);\n\n    _defineProperty(this, \"screenSpacePanning\", false);\n\n    _defineProperty(this, \"keyPanSpeed\", 7.0);\n\n    _defineProperty(this, \"autoRotate\", false);\n\n    _defineProperty(this, \"autoRotateSpeed\", 2.0);\n\n    _defineProperty(this, \"enableKeys\", true);\n\n    _defineProperty(this, \"keys\", {\n      LEFT: 'ArrowLeft',\n      UP: 'ArrowUp',\n      RIGHT: 'ArrowRight',\n      BOTTOM: 'ArrowDown'\n    });\n\n    _defineProperty(this, \"mouseButtons\", void 0);\n\n    _defineProperty(this, \"touches\", {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    });\n\n    _defineProperty(this, \"target0\", void 0);\n\n    _defineProperty(this, \"position0\", void 0);\n\n    _defineProperty(this, \"quaternion0\", void 0);\n\n    _defineProperty(this, \"zoom0\", void 0);\n\n    _defineProperty(this, \"spherical\", new Spherical());\n\n    _defineProperty(this, \"sphericalDelta\", new Spherical());\n\n    _defineProperty(this, \"changeEvent\", {\n      type: 'change'\n    });\n\n    _defineProperty(this, \"startEvent\", {\n      type: 'start'\n    });\n\n    _defineProperty(this, \"endEvent\", {\n      type: 'end'\n    });\n\n    _defineProperty(this, \"state\", STATE.NONE);\n\n    _defineProperty(this, \"EPS\", 0.000001);\n\n    _defineProperty(this, \"scale\", 1);\n\n    _defineProperty(this, \"panOffset\", new Vector3());\n\n    _defineProperty(this, \"zoomChanged\", false);\n\n    _defineProperty(this, \"rotateStart\", new Vector2());\n\n    _defineProperty(this, \"rotateEnd\", new Vector2());\n\n    _defineProperty(this, \"rotateDelta\", new Vector2());\n\n    _defineProperty(this, \"panStart\", new Vector2());\n\n    _defineProperty(this, \"panEnd\", new Vector2());\n\n    _defineProperty(this, \"panDelta\", new Vector2());\n\n    _defineProperty(this, \"dollyStart\", new Vector2());\n\n    _defineProperty(this, \"dollyEnd\", new Vector2());\n\n    _defineProperty(this, \"dollyDelta\", new Vector2());\n\n    _defineProperty(this, \"offset\", new Vector3());\n\n    _defineProperty(this, \"lastPosition\", new Vector3());\n\n    _defineProperty(this, \"lastQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"q\", new Quaternion());\n\n    _defineProperty(this, \"v\", new Vector3());\n\n    _defineProperty(this, \"vec\", new Vector3());\n\n    _defineProperty(this, \"quat\", void 0);\n\n    _defineProperty(this, \"quatInverse\", void 0);\n\n    _defineProperty(this, \"getPolarAngle\", () => this.spherical.phi);\n\n    _defineProperty(this, \"getAzimuthalAngle\", () => this.spherical.theta);\n\n    _defineProperty(this, \"saveState\", () => {\n      this.target0.copy(this.target);\n      this.position0.copy(this.object.position);\n      this.quaternion0.copy(this.object.quaternion);\n      this.zoom0 = this.object.zoom;\n    });\n\n    _defineProperty(this, \"reset\", () => {\n      this.target.copy(this.target0);\n      this.object.position.copy(this.position0);\n      this.object.quaternion.copy(this.quaternion0);\n      this.object.zoom = this.zoom0;\n      this.object.updateProjectionMatrix();\n      this.dispatchEvent(this.changeEvent);\n      this.update();\n      this.state = STATE.NONE;\n    });\n\n    _defineProperty(this, \"dispose\", () => {\n      this.domElement.removeEventListener('contextmenu', this.onContextMenu, false);\n      this.domElement.removeEventListener('mousedown', this.onMouseDown, false);\n      this.domElement.removeEventListener('wheel', this.onMouseWheel, false);\n      this.domElement.removeEventListener('touchstart', this.onTouchStart, false);\n      this.domElement.removeEventListener('touchend', this.onTouchEnd, false);\n      this.domElement.removeEventListener('touchmove', this.onTouchMove, false);\n      document.removeEventListener('mousemove', this.onMouseMove, false);\n      document.removeEventListener('mouseup', this.onMouseUp, false);\n      this.domElement.removeEventListener('keydown', this.onKeyDown, false); //this.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n    });\n\n    _defineProperty(this, \"update\", () => {\n      const position = this.object.position;\n      this.offset.copy(position).sub(this.target);\n\n      if (this.trackball) {\n        // rotate around screen-space y-axis\n        if (this.sphericalDelta.theta) {\n          this.vec.set(0, 1, 0).applyQuaternion(this.object.quaternion);\n          const factor = this.enableDamping ? this.dampingFactor : 1;\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.theta * factor);\n          this.object.quaternion.premultiply(this.q);\n          this.offset.applyQuaternion(this.q);\n        } // rotate around screen-space x-axis\n\n\n        if (this.sphericalDelta.phi) {\n          this.vec.set(1, 0, 0).applyQuaternion(this.object.quaternion);\n          const factor = this.enableDamping ? this.dampingFactor : 1;\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.phi * factor);\n          this.object.quaternion.premultiply(this.q);\n          this.offset.applyQuaternion(this.q);\n        }\n\n        this.offset.multiplyScalar(this.scale);\n        this.offset.clampLength(this.minDistance, this.maxDistance);\n      } else {\n        // rotate offset to \"y-axis-is-up\" space\n        this.offset.applyQuaternion(this.quat);\n\n        if (this.autoRotate && this.state === STATE.NONE) {\n          this.rotateLeft(this.getAutoRotationAngle());\n        }\n\n        this.spherical.setFromVector3(this.offset);\n\n        if (this.enableDamping) {\n          this.spherical.theta += this.sphericalDelta.theta * this.dampingFactor;\n          this.spherical.phi += this.sphericalDelta.phi * this.dampingFactor;\n        } else {\n          this.spherical.theta += this.sphericalDelta.theta;\n          this.spherical.phi += this.sphericalDelta.phi;\n        } // restrict theta to be between desired limits\n\n\n        this.spherical.theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, this.spherical.theta)); // restrict phi to be between desired limits\n\n        this.spherical.phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, this.spherical.phi));\n        this.spherical.makeSafe();\n        this.spherical.radius *= this.scale; // restrict radius to be between desired limits\n\n        this.spherical.radius = Math.max(this.minDistance, Math.min(this.maxDistance, this.spherical.radius));\n        this.offset.setFromSpherical(this.spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n        this.offset.applyQuaternion(this.quatInverse);\n      } // move target to panned location\n\n\n      if (this.enableDamping === true) {\n        this.target.addScaledVector(this.panOffset, this.dampingFactor);\n      } else {\n        this.target.add(this.panOffset);\n      }\n\n      position.copy(this.target).add(this.offset);\n\n      if (this.trackball === false) {\n        this.object.lookAt(this.target);\n      }\n\n      if (this.enableDamping === true) {\n        this.sphericalDelta.theta *= 1 - this.dampingFactor;\n        this.sphericalDelta.phi *= 1 - this.dampingFactor;\n        this.panOffset.multiplyScalar(1 - this.dampingFactor);\n      } else {\n        this.sphericalDelta.set(0, 0, 0);\n        this.panOffset.set(0, 0, 0);\n      }\n\n      this.scale = 1; // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (this.zoomChanged || this.lastPosition.distanceToSquared(this.object.position) > this.EPS || 8 * (1 - this.lastQuaternion.dot(this.object.quaternion)) > this.EPS) {\n        this.dispatchEvent(this.changeEvent);\n        this.lastPosition.copy(this.object.position);\n        this.lastQuaternion.copy(this.object.quaternion);\n        this.zoomChanged = false;\n        return true;\n      }\n\n      return false;\n    });\n\n    _defineProperty(this, \"getAutoRotationAngle\", () => 2 * Math.PI / 60 / 60 * this.autoRotateSpeed);\n\n    _defineProperty(this, \"getZoomScale\", () => Math.pow(0.95, this.zoomSpeed));\n\n    _defineProperty(this, \"rotateLeft\", angle => {\n      this.sphericalDelta.theta -= angle;\n    });\n\n    _defineProperty(this, \"rotateUp\", angle => {\n      this.sphericalDelta.phi -= angle;\n    });\n\n    _defineProperty(this, \"panLeft\", (distance, objectMatrix) => {\n      this.v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n      this.v.multiplyScalar(-distance);\n      this.panOffset.add(this.v);\n    });\n\n    _defineProperty(this, \"panUp\", (distance, objectMatrix) => {\n      if (this.screenSpacePanning === true) {\n        this.v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        this.v.setFromMatrixColumn(objectMatrix, 0);\n        this.v.crossVectors(this.object.up, this.v);\n      }\n\n      this.v.multiplyScalar(distance);\n      this.panOffset.add(this.v);\n    });\n\n    _defineProperty(this, \"pan\", (deltaX, deltaY) => {\n      const element = this.domElement;\n\n      if (this.object instanceof PerspectiveCamera) {\n        // perspective\n        const position = this.object.position;\n        this.offset.copy(position).sub(this.target);\n        let targetDistance = this.offset.length(); // half of the fov is center to top of screen\n\n        targetDistance *= Math.tan(this.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\n\n        this.panLeft(2 * deltaX * targetDistance / element.clientHeight, this.object.matrix);\n        this.panUp(2 * deltaY * targetDistance / element.clientHeight, this.object.matrix);\n      } else if (this.object.isOrthographicCamera) {\n        // orthographic\n        this.panLeft(deltaX * (this.object.right - this.object.left) / this.object.zoom / element.clientWidth, this.object.matrix);\n        this.panUp(deltaY * (this.object.top - this.object.bottom) / this.object.zoom / element.clientHeight, this.object.matrix);\n      } else {\n        // camera neither orthographic nor perspective\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - pan disabled.');\n        this.enablePan = false;\n      }\n    });\n\n    _defineProperty(this, \"dollyIn\", dollyScale => {\n      // TODO: replace w/.isPerspectiveCamera ?\n      if (this.object instanceof PerspectiveCamera) {\n        this.scale /= dollyScale; // TODO: replace w/.isOrthographicCamera ?\n      } else if (this.object instanceof OrthographicCamera) {\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\n        this.object.updateProjectionMatrix();\n        this.zoomChanged = true;\n      } else {\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        this.enableZoom = false;\n      }\n    });\n\n    _defineProperty(this, \"dollyOut\", dollyScale => {\n      // TODO: replace w/.isPerspectiveCamera ?\n      if (this.object instanceof PerspectiveCamera) {\n        this.scale *= dollyScale; // TODO: replace w/.isOrthographicCamera ?\n      } else if (this.object instanceof OrthographicCamera) {\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\n        this.object.updateProjectionMatrix();\n        this.zoomChanged = true;\n      } else {\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        this.enableZoom = false;\n      }\n    });\n\n    _defineProperty(this, \"handleMouseDownRotate\", event => {\n      this.rotateStart.set(event.clientX, event.clientY);\n    });\n\n    _defineProperty(this, \"handleMouseDownDolly\", event => {\n      this.dollyStart.set(event.clientX, event.clientY);\n    });\n\n    _defineProperty(this, \"handleMouseDownPan\", event => {\n      this.panStart.set(event.clientX, event.clientY);\n    });\n\n    _defineProperty(this, \"handleMouseMoveRotate\", event => {\n      this.rotateEnd.set(event.clientX, event.clientY);\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\n      const element = this.domElement;\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight); // yes, height\n\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\n      this.rotateStart.copy(this.rotateEnd);\n      this.update();\n    });\n\n    _defineProperty(this, \"handleMouseMoveDolly\", event => {\n      this.dollyEnd.set(event.clientX, event.clientY);\n      this.dollyDelta.subVectors(this.dollyEnd, this.dollyStart);\n\n      if (this.dollyDelta.y > 0) {\n        this.dollyIn(this.getZoomScale());\n      } else if (this.dollyDelta.y < 0) {\n        this.dollyOut(this.getZoomScale());\n      }\n\n      this.dollyStart.copy(this.dollyEnd);\n      this.update();\n    });\n\n    _defineProperty(this, \"handleMouseMovePan\", event => {\n      this.panEnd.set(event.clientX, event.clientY);\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\n      this.pan(this.panDelta.x, this.panDelta.y);\n      this.panStart.copy(this.panEnd);\n      this.update();\n    });\n\n    _defineProperty(this, \"handleMouseWheel\", event => {\n      if (event.deltaY < 0) {\n        this.dollyOut(this.getZoomScale());\n      } else if (event.deltaY > 0) {\n        this.dollyIn(this.getZoomScale());\n      }\n\n      this.update();\n    });\n\n    _defineProperty(this, \"handleKeyDown\", event => {\n      let needsUpdate = false;\n\n      switch (event.code) {\n        case this.keys.UP:\n          this.pan(0, this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case this.keys.BOTTOM:\n          this.pan(0, -this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case this.keys.LEFT:\n          this.pan(this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n\n        case this.keys.RIGHT:\n          this.pan(-this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n\n      if (needsUpdate) {\n        // prevent the browser from scrolling on cursor keys\n        event.preventDefault();\n        this.update();\n      }\n    });\n\n    _defineProperty(this, \"handleTouchStartRotate\", event => {\n      if (event.touches.length == 1) {\n        this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.rotateStart.set(x, y);\n      }\n    });\n\n    _defineProperty(this, \"handleTouchStartPan\", event => {\n      if (event.touches.length == 1) {\n        this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.panStart.set(x, y);\n      }\n    });\n\n    _defineProperty(this, \"handleTouchStartDolly\", event => {\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      this.dollyStart.set(0, distance);\n    });\n\n    _defineProperty(this, \"handleTouchStartDollyPan\", event => {\n      if (this.enableZoom) this.handleTouchStartDolly(event);\n      if (this.enablePan) this.handleTouchStartPan(event);\n    });\n\n    _defineProperty(this, \"handleTouchStartDollyRotate\", event => {\n      if (this.enableZoom) this.handleTouchStartDolly(event);\n      if (this.enableRotate) this.handleTouchStartRotate(event);\n    });\n\n    _defineProperty(this, \"handleTouchMoveRotate\", event => {\n      if (event.touches.length == 1) {\n        this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.rotateEnd.set(x, y);\n      }\n\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\n      const element = this.domElement;\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight); // yes, height\n\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\n      this.rotateStart.copy(this.rotateEnd);\n    });\n\n    _defineProperty(this, \"handleTouchMovePan\", event => {\n      if (event.touches.length == 1) {\n        this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.panEnd.set(x, y);\n      }\n\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\n      this.pan(this.panDelta.x, this.panDelta.y);\n      this.panStart.copy(this.panEnd);\n    });\n\n    _defineProperty(this, \"handleTouchMoveDolly\", event => {\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      this.dollyEnd.set(0, distance);\n      this.dollyDelta.set(0, Math.pow(this.dollyEnd.y / this.dollyStart.y, this.zoomSpeed));\n      this.dollyIn(this.dollyDelta.y);\n      this.dollyStart.copy(this.dollyEnd);\n    });\n\n    _defineProperty(this, \"handleTouchMoveDollyPan\", event => {\n      if (this.enableZoom) this.handleTouchMoveDolly(event);\n      if (this.enablePan) this.handleTouchMovePan(event);\n    });\n\n    _defineProperty(this, \"handleTouchMoveDollyRotate\", event => {\n      if (this.enableZoom) this.handleTouchMoveDolly(event);\n      if (this.enableRotate) this.handleTouchMoveRotate(event);\n    });\n\n    _defineProperty(this, \"onMouseDown\", event => {\n      if (this.enabled === false) return; // Prevent the browser from scrolling.\n\n      event.preventDefault(); // Manually set the focus since calling preventDefault above\n      // prevents the browser from setting it automatically.\n\n      this.domElement.focus ? this.domElement.focus() : window.focus();\n      let mouseAction;\n\n      switch (event.button) {\n        case 0:\n          mouseAction = this.mouseButtons.LEFT;\n          break;\n\n        case 1:\n          mouseAction = this.mouseButtons.MIDDLE;\n          break;\n\n        case 2:\n          mouseAction = this.mouseButtons.RIGHT;\n          break;\n\n        default:\n          mouseAction = -1;\n      }\n\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (this.enableZoom === false) return;\n          this.handleMouseDownDolly(event);\n          this.state = STATE.DOLLY;\n          break;\n\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.enablePan === false) return;\n            this.handleMouseDownPan(event);\n            this.state = STATE.PAN;\n          } else {\n            if (this.enableRotate === false) return;\n            this.handleMouseDownRotate(event);\n            this.state = STATE.ROTATE;\n          }\n\n          break;\n\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.enableRotate === false) return;\n            this.handleMouseDownRotate(event);\n            this.state = STATE.ROTATE;\n          } else {\n            if (this.enablePan === false) return;\n            this.handleMouseDownPan(event);\n            this.state = STATE.PAN;\n          }\n\n          break;\n\n        default:\n          this.state = STATE.NONE;\n      }\n\n      if (this.state !== STATE.NONE) {\n        document.addEventListener('mousemove', this.onMouseMove, false);\n        document.addEventListener('mouseup', this.onMouseUp, false);\n        this.dispatchEvent(this.startEvent);\n      }\n    });\n\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n\n      switch (this.state) {\n        case STATE.ROTATE:\n          if (this.enableRotate === false) return;\n          this.handleMouseMoveRotate(event);\n          break;\n\n        case STATE.DOLLY:\n          if (this.enableZoom === false) return;\n          this.handleMouseMoveDolly(event);\n          break;\n\n        case STATE.PAN:\n          if (this.enablePan === false) return;\n          this.handleMouseMovePan(event);\n          break;\n      }\n    });\n\n    _defineProperty(this, \"onMouseUp\", () => {\n      if (this.enabled === false) return; // this.handleMouseUp()\n\n      document.removeEventListener('mousemove', this.onMouseMove, false);\n      document.removeEventListener('mouseup', this.onMouseUp, false);\n      this.dispatchEvent(this.endEvent);\n      this.state = STATE.NONE;\n    });\n\n    _defineProperty(this, \"onMouseWheel\", event => {\n      if (this.enabled === false || this.enableZoom === false || this.state !== STATE.NONE && this.state !== STATE.ROTATE) {\n        return;\n      }\n\n      event.preventDefault();\n      this.dispatchEvent(this.startEvent);\n      this.handleMouseWheel(event);\n      this.dispatchEvent(this.endEvent);\n    });\n\n    _defineProperty(this, \"onKeyDown\", event => {\n      if (this.enabled === false || this.enableKeys === false || this.enablePan === false) return;\n      this.handleKeyDown(event);\n    });\n\n    _defineProperty(this, \"onTouchStart\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n\n      switch (event.touches.length) {\n        case 1:\n          switch (this.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (this.enableRotate === false) return;\n              this.handleTouchStartRotate(event);\n              this.state = STATE.TOUCH_ROTATE;\n              break;\n\n            case TOUCH.PAN:\n              if (this.enablePan === false) return;\n              this.handleTouchStartPan(event);\n              this.state = STATE.TOUCH_PAN;\n              break;\n\n            default:\n              this.state = STATE.NONE;\n          }\n\n          break;\n\n        case 2:\n          switch (this.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (this.enableZoom === false && this.enablePan === false) return;\n              this.handleTouchStartDollyPan(event);\n              this.state = STATE.TOUCH_DOLLY_PAN;\n              break;\n\n            case TOUCH.DOLLY_ROTATE:\n              if (this.enableZoom === false && this.enableRotate === false) return;\n              this.handleTouchStartDollyRotate(event);\n              this.state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n\n            default:\n              this.state = STATE.NONE;\n          }\n\n          break;\n\n        default:\n          this.state = STATE.NONE;\n      }\n\n      if (this.state !== STATE.NONE) {\n        this.dispatchEvent(this.startEvent);\n      }\n    });\n\n    _defineProperty(this, \"onTouchMove\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n\n      switch (this.state) {\n        case STATE.TOUCH_ROTATE:\n          if (this.enableRotate === false) return;\n          this.handleTouchMoveRotate(event);\n          this.update();\n          break;\n\n        case STATE.TOUCH_PAN:\n          if (this.enablePan === false) return;\n          this.handleTouchMovePan(event);\n          this.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_PAN:\n          if (this.enableZoom === false && this.enablePan === false) return;\n          this.handleTouchMoveDollyPan(event);\n          this.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (this.enableZoom === false && this.enableRotate === false) return;\n          this.handleTouchMoveDollyRotate(event);\n          this.update();\n          break;\n\n        default:\n          this.state = STATE.NONE;\n      }\n    });\n\n    _defineProperty(this, \"onTouchEnd\", () => {\n      if (this.enabled === false) return; // this.handleTouchEnd()\n\n      this.dispatchEvent(this.endEvent);\n      this.state = STATE.NONE;\n    });\n\n    _defineProperty(this, \"onContextMenu\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n    });\n\n    if (domElement === undefined) {\n      console.warn('THREE.CameraControls: The second parameter \"domElement\" is now mandatory.');\n    }\n\n    if (domElement instanceof Document) {\n      console.error('THREE.CameraControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n    }\n\n    this.object = object;\n    this.domElement = domElement;\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    }; // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.quaternion0 = this.object.quaternion.clone();\n    this.zoom0 = this.object.zoom; //\n    // internals\n    //\n    // so camera.up is the orbit axis\n\n    this.quat = new Quaternion().setFromUnitVectors(this.object.up, new Vector3(0, 1, 0));\n    this.quatInverse = this.quat.clone().invert();\n    this.lastPosition = new Vector3();\n    this.lastQuaternion = new Quaternion();\n    this.domElement.addEventListener('contextmenu', this.onContextMenu, false);\n    this.domElement.addEventListener('mousedown', this.onMouseDown, false);\n    this.domElement.addEventListener('wheel', this.onMouseWheel, false);\n    this.domElement.addEventListener('touchstart', this.onTouchStart, false);\n    this.domElement.addEventListener('touchend', this.onTouchEnd, false);\n    this.domElement.addEventListener('touchmove', this.onTouchMove, false);\n    this.domElement.addEventListener('keydown', this.onKeyDown, false); // make sure element can receive keys.\n\n    if (this.domElement.tabIndex === -1) {\n      this.domElement.tabIndex = 0;\n    } // force an update at start\n\n\n    this.object.lookAt(this.target);\n    this.update();\n    this.saveState();\n  }\n\n  handleMouseUp() {// no-op\n  }\n\n  handleTouchEnd() {// no-op\n  } //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n\n}\n/**\n * OrbitControls maintains the \"up\" direction, camera.up (+Y by default).\n *\n * @event Orbit - left mouse / touch: one-finger move\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n * @event Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n */\n\n\nclass OrbitControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n\n    _defineProperty(this, \"mouseButtons\", void 0);\n\n    _defineProperty(this, \"touches\", void 0);\n\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n  }\n\n}\n/**\n * MapControls maintains the \"up\" direction, camera.up (+Y by default)\n *\n * @event Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n * @event Pan - left mouse, or left right + ctrl/meta/shiftKey, or arrow keys / touch: one-finger move\n */\n\n\nclass MapControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n\n    _defineProperty(this, \"mouseButtons\", void 0);\n\n    _defineProperty(this, \"touches\", void 0);\n\n    this.mouseButtons = {\n      LEFT: MOUSE.PAN,\n      RIGHT: MOUSE.ROTATE\n    };\n    this.touches = {\n      ONE: TOUCH.PAN,\n      TWO: TOUCH.DOLLY_ROTATE\n    };\n  }\n\n}\n/**\n * TrackballControls allows the camera to rotate over the polls and does not maintain camera.up\n *\n * @event Orbit - left mouse / touch: one-finger move\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n * @event Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n */\n\n\nclass TrackballControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n\n    _defineProperty(this, \"trackball\", void 0);\n\n    _defineProperty(this, \"screenSpacePanning\", void 0);\n\n    _defineProperty(this, \"autoRotate\", void 0);\n\n    _defineProperty(this, \"mouseButtons\", void 0);\n\n    _defineProperty(this, \"touches\", void 0);\n\n    this.trackball = true;\n    this.screenSpacePanning = true;\n    this.autoRotate = false;\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n  }\n\n}\n\nexport { CameraControls, MapControlsExp, OrbitControlsExp, STATE, TrackballControlsExp };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}