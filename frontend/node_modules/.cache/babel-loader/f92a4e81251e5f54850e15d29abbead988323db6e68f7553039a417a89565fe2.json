{"ast":null,"code":"import { Vector3 } from 'three';\nvar Capsule = function () {\n  var _v1 = new Vector3();\n  var _v2 = new Vector3();\n  var _v3 = new Vector3();\n  var EPS = 1e-10;\n  function Capsule(start, end, radius) {\n    this.start = start == undefined ? new Vector3(0, 0, 0) : start;\n    this.end = end == undefined ? new Vector3(0, 1, 0) : end;\n    this.radius = radius == undefined ? 1 : radius;\n  }\n  Object.assign(Capsule.prototype, {\n    clone: function () {\n      return new Capsule(this.start.clone(), this.end.clone(), this.radius);\n    },\n    set: function (start, end, radius) {\n      this.start.copy(start);\n      this.end.copy(end);\n      this.radius = radius;\n    },\n    copy: function (capsule) {\n      this.start.copy(capsule.start);\n      this.end.copy(capsule.end);\n      this.radius = capsule.radius;\n    },\n    getCenter: function (target) {\n      return target.copy(this.end).add(this.start).multiplyScalar(0.5);\n    },\n    translate: function (v) {\n      this.start.add(v);\n      this.end.add(v);\n    },\n    checkAABBAxis: function (p1x, p1y, p2x, p2y, minx, maxx, miny, maxy, radius) {\n      return (minx - p1x < radius || minx - p2x < radius) && (p1x - maxx < radius || p2x - maxx < radius) && (miny - p1y < radius || miny - p2y < radius) && (p1y - maxy < radius || p2y - maxy < radius);\n    },\n    intersectsBox: function (box) {\n      return this.checkAABBAxis(this.start.x, this.start.y, this.end.x, this.end.y, box.min.x, box.max.x, box.min.y, box.max.y, this.radius) && this.checkAABBAxis(this.start.x, this.start.z, this.end.x, this.end.z, box.min.x, box.max.x, box.min.z, box.max.z, this.radius) && this.checkAABBAxis(this.start.y, this.start.z, this.end.y, this.end.z, box.min.y, box.max.y, box.min.z, box.max.z, this.radius);\n    },\n    lineLineMinimumPoints: function (line1, line2) {\n      var r = _v1.copy(line1.end).sub(line1.start);\n      var s = _v2.copy(line2.end).sub(line2.start);\n      var w = _v3.copy(line2.start).sub(line1.start);\n      var a = r.dot(s),\n        b = r.dot(r),\n        c = s.dot(s),\n        d = s.dot(w),\n        e = r.dot(w);\n      var t1,\n        t2,\n        divisor = b * c - a * a;\n      if (Math.abs(divisor) < EPS) {\n        var d1 = -d / c;\n        var d2 = (a - d) / c;\n        if (Math.abs(d1 - 0.5) < Math.abs(d2 - 0.5)) {\n          t1 = 0;\n          t2 = d1;\n        } else {\n          t1 = 1;\n          t2 = d2;\n        }\n      } else {\n        t1 = (d * a + e * c) / divisor;\n        t2 = (t1 * a - d) / c;\n      }\n      t2 = Math.max(0, Math.min(1, t2));\n      t1 = Math.max(0, Math.min(1, t1));\n      var point1 = r.multiplyScalar(t1).add(line1.start);\n      var point2 = s.multiplyScalar(t2).add(line2.start);\n      return [point1, point2];\n    }\n  });\n  return Capsule;\n}();\nexport { Capsule };","map":{"version":3,"names":["Vector3","Capsule","_v1","_v2","_v3","EPS","start","end","radius","undefined","Object","assign","prototype","clone","set","copy","capsule","getCenter","target","add","multiplyScalar","translate","v","checkAABBAxis","p1x","p1y","p2x","p2y","minx","maxx","miny","maxy","intersectsBox","box","x","y","min","max","z","lineLineMinimumPoints","line1","line2","r","sub","s","w","a","dot","b","c","d","e","t1","t2","divisor","Math","abs","d1","d2","point1","point2"],"sources":["/Users/tumolabsstudent/Desktop/app/node_modules/three-stdlib/math/Capsule.js"],"sourcesContent":["import { Vector3 } from 'three';\n\nvar Capsule = function () {\n  var _v1 = new Vector3();\n\n  var _v2 = new Vector3();\n\n  var _v3 = new Vector3();\n\n  var EPS = 1e-10;\n\n  function Capsule(start, end, radius) {\n    this.start = start == undefined ? new Vector3(0, 0, 0) : start;\n    this.end = end == undefined ? new Vector3(0, 1, 0) : end;\n    this.radius = radius == undefined ? 1 : radius;\n  }\n\n  Object.assign(Capsule.prototype, {\n    clone: function () {\n      return new Capsule(this.start.clone(), this.end.clone(), this.radius);\n    },\n    set: function (start, end, radius) {\n      this.start.copy(start);\n      this.end.copy(end);\n      this.radius = radius;\n    },\n    copy: function (capsule) {\n      this.start.copy(capsule.start);\n      this.end.copy(capsule.end);\n      this.radius = capsule.radius;\n    },\n    getCenter: function (target) {\n      return target.copy(this.end).add(this.start).multiplyScalar(0.5);\n    },\n    translate: function (v) {\n      this.start.add(v);\n      this.end.add(v);\n    },\n    checkAABBAxis: function (p1x, p1y, p2x, p2y, minx, maxx, miny, maxy, radius) {\n      return (minx - p1x < radius || minx - p2x < radius) && (p1x - maxx < radius || p2x - maxx < radius) && (miny - p1y < radius || miny - p2y < radius) && (p1y - maxy < radius || p2y - maxy < radius);\n    },\n    intersectsBox: function (box) {\n      return this.checkAABBAxis(this.start.x, this.start.y, this.end.x, this.end.y, box.min.x, box.max.x, box.min.y, box.max.y, this.radius) && this.checkAABBAxis(this.start.x, this.start.z, this.end.x, this.end.z, box.min.x, box.max.x, box.min.z, box.max.z, this.radius) && this.checkAABBAxis(this.start.y, this.start.z, this.end.y, this.end.z, box.min.y, box.max.y, box.min.z, box.max.z, this.radius);\n    },\n    lineLineMinimumPoints: function (line1, line2) {\n      var r = _v1.copy(line1.end).sub(line1.start);\n\n      var s = _v2.copy(line2.end).sub(line2.start);\n\n      var w = _v3.copy(line2.start).sub(line1.start);\n\n      var a = r.dot(s),\n          b = r.dot(r),\n          c = s.dot(s),\n          d = s.dot(w),\n          e = r.dot(w);\n      var t1,\n          t2,\n          divisor = b * c - a * a;\n\n      if (Math.abs(divisor) < EPS) {\n        var d1 = -d / c;\n        var d2 = (a - d) / c;\n\n        if (Math.abs(d1 - 0.5) < Math.abs(d2 - 0.5)) {\n          t1 = 0;\n          t2 = d1;\n        } else {\n          t1 = 1;\n          t2 = d2;\n        }\n      } else {\n        t1 = (d * a + e * c) / divisor;\n        t2 = (t1 * a - d) / c;\n      }\n\n      t2 = Math.max(0, Math.min(1, t2));\n      t1 = Math.max(0, Math.min(1, t1));\n      var point1 = r.multiplyScalar(t1).add(line1.start);\n      var point2 = s.multiplyScalar(t2).add(line2.start);\n      return [point1, point2];\n    }\n  });\n  return Capsule;\n}();\n\nexport { Capsule };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}